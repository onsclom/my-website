---
import BaseLayout from "../layouts/BaseLayout.astro"
import Age from "../components/Age.astro"
import LastSeen from "../components/LastSeen.astro"
import Project from "../components/Project.astro"

import { getCollection } from "astro:content"
const writing = await getCollection("writing")
---

<BaseLayout>
  <section>
    <hgroup>
      <h1>ğŸ‘‹ Hi, I'm Austin!</h1>
      <h2>A dude who <b>programs</b> ğŸ‘¨â€ğŸ’» and <b>makes stuff</b> ğŸ”¨</h2>
    </hgroup>
    <p></p>
    <LastSeen />
    <Age />
  </section>

  <section>
    <hgroup>
      <h2>ğŸ’¾ Projects</h2>
      <h3>"Finished" things I'm proud of</h3>
    </hgroup>
    <ul>
      <Project
        name="ğŸ” TypeScript JSON Parser"
        url="https://github.com/onsclom/ts-json-parser"
        description="RFC 8259 compliant parser written from scratch"
      />
      <Project
        name="ğŸ•¦ Circle Clock"
        url="https://circle-clock.onsclom.net/"
        description="minimalistic timing game"
      />
      <Project
        name="ğŸ¤º Hone"
        url="https://hone.onsclom.net/"
        description="minimalistic fighting game for 2 players"
      />
      <Project
        name="ğŸ“ Wrushle"
        url="https://wordle-rush.vercel.app/"
        description="timed variant of Wordle"
      />
      <Project
        name="ğŸ HTML5 snake"
        url="https://onsclom.github.io/html5-snake/"
        description="snake built with vanilla JS"
      />
      <Project
        name="ğŸ’µ Bill Splitter"
        url="https://bill-splitter-eight.vercel.app/"
        description="tool to help split bills"
      />
      <Project
        name="ğŸ§© Holy Matri(x)mony"
        url="https://cegexe.itch.io/holymatrixmony"
        description="puzzle  game which ranked as finalist in GMTK 2021"
      />
      <Project
        name="ğŸš€ Rotato Ship"
        url="https://cegexe.itch.io/rotato-ship"
        description="rotating platform which ranked as a finalist in GMTK 2020"
      />
      <Project
        name="â™Ÿï¸ Blunder Puzzles"
        url="https://onsclom.github.io/blunder-chess/"
        description="chess puzzles for finding the worst move"
      />
    </ul>
  </section>

  <section>
    <hgroup>
      <h2>ğŸ“ï¸ Writing</h2>
      <h3>Ramblings about programming</h3>
    </hgroup>
    <ul>
      {
        writing
          .sort(
            (a, b) =>
              new Date(b.data.pubDate).getTime() -
              new Date(a.data.pubDate).getTime()
          )
          .map((post) => {
            return (
              <li>
                <a href={`/posts/${post.slug}`}>{post.data.title}</a>
              </li>
            )
          })
      }
    </ul>
  </section>
</BaseLayout>
